<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <title>Panier</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="main">
        <nav>
            <ul>
            <div class="dropdown">
                <button class="dropbtn">Cat√©gorie</button>
                <div class="dropdown-content">
                    <a class="active" href="#home">Home</a>
                    <a href="#news">News</a>
                    <a href="#contact">Contact</a>
                    <a href="#about">About</a>
                </div>
            </div>
            <a style="cursor:pointer; position: fixed; right: 0;padding: 10px 14px 0 0; color: white;" onclick="openNav()">&#9776; Connexion</a>
            </ul>
        </nav>
        <table class="tableau">
                <thead>
                    <tr>
                        <th></th>
                        <th>Reference</th>
                        <th>Title</th>
                        <th>Prix unitaire</th>
                        <th>Quantite</th>
                        <th>Prix total</th>
                    </tr>
                </thead>
                <tbody id="bodyDetail" class="table-hover">
        
                </tbody>
            </table>
    </div>
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <div class="login">
                <div class="login-screen">
                    <div class="app-title">
                        <h1>Identification</h1>
                    </div>
                    <div class="login-form">
                        <div class="control-group">
                            <input id="email" type="text" class="login-field" placeholder="eMail" id="login-mail" name="mail">
                            <label class="login-field-icon fui-user" for="login-mail"></label>
                        </div>

                        <div class="control-group">
                            <input id="mdp" type="password" class="login-field" placeholder="Mot de passe" id="login-password" name="mdp">
                            <label class="login-field-icon fui-lock" for="login-password"></label>
                        </div>
                        <input type="submit" class="btn btn-primary btn-large btn-block" value="Connexion" onclick="checkLogs()"/>
                    </div>
                </div>
            </div>
    </div>
    <script src="http://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <script src="/puppyCo/Model/main.js"></script>
    <script>
        function openNav() {
            document.getElementById("mySidenav").style.width = "250px";
            document.getElementById("main").style.marginRight = "250px";

        }
        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("main").style.marginRight = "0";

        }


        $(document).ready(function () {

            $.ajax({
                url: "/puppyCo/Model/rest.php?/cart/getProductsFromUser",
                type: "GET",
                success: function (data) {
                    var dataJson = JSON.parse(data);
                    console.log(dataJson);
                    $(dataJson).each(function (index, element) {
                        $("#bodyDetail").append('<tr><td class="text-left"><img height="50px" width="50px" src="' + element['URL'] + '"/></td><td class="text-left">' + element['REFERENCE'] + '</td><td class="text-left">' + element['TITLE'] + '</td><td class="text-left">' + element['PRICE'] + '</td><td class="text-left">' + element['QUANTITY'] + '</td><td class="text-left">' + element['TOTAL_PRICE'] + '</td><td class="text-left"><a href="detailUtilisateur.php?id=' + element['REFERENCE'] + '">Detail</a></td></tr>');
                    });
                },
                error: function (resultat, statut, erreur) {
                    console.log('erreur', erreur);
                }
            });

        });
    </script>
</body>

</html>